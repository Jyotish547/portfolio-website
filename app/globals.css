@import "tailwindcss";

@theme {
  /* Brand colors */
  --violet: #8B5CF6;
  --orange: #FF470F;
  
  /* Font colors for white background (fw) */
  --fw-primary: #1e1e1e;
  --fw-secondary: #575757;
  
  /* Font colors for black background (fb) */
  --fb-primary: #f3f3f3;
  --fb-secondary: #b4b4b4;
  
  /* Background colors */
  --bg-primary: #f3f3f3;
  --bg-secondary: #b4b4b4;
  
  /* Neutral colors */
  --black: #080808;
  --white: #f3f3f3;
}

:root {
  --background: #f3f3f3;
  --foreground: #1e1e1e;
}

@theme inline {
  /* Map Tailwind's default color variables to our theme */
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  
  /* Make our custom colors available as Tailwind classes */
  --color-violet: var(--violet);
  --color-orange: var(--orange);
  
  /* Font colors for white background */
  --color-fw-primary: var(--fw-primary);
  --color-fw-secondary: var(--fw-secondary);
  
  /* Font colors for black background */
  --color-fb-primary: var(--fb-primary);
  --color-fb-secondary: var(--fb-secondary);
  
  /* Configure fonts */
  --font-sans: var(--font-roboto-flex);
  --font-heading: var(--font-roboto-slab);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #f1f1f1;
    --foreground: #1e1e1e;
  }
}

html, body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-roboto-flex);
}

/* Apply Roboto Slab to headings with the font-heading class */
.font-heading {
  font-family: var(--font-roboto-slab);
}

@layer components {
  .hero-section {
    @apply w-full min-h-[600px] flex items-center justify-center;
    color: var(--fb-primary);
    background-color: var(--black);
  }
  
  /* Text color utility classes */
  .font-dark {
    color: var(--fw-primary);
  }
  
  .font-dark-secondary {
    color: var(--fw-secondary);
  }
  
  .font-light {
    color: var(--fb-primary);
  }
  
  .font-light-secondary {
    color: var(--fb-secondary);
  }

  /* Section containers */
  .hero-container {
    @apply w-full max-w-[1280px] p-10 flex flex-row items-center justify-between;
  }

  .section-container {
    @apply w-full max-w-[1280px] px-10 flex flex-col items-center gap-6;
  }
  
  /* Hero section */
  .hero-content {
    @apply text-5xl md:text-5xl flex flex-col items-start gap-4 md:gap-8 xl:gap-10;
  }
  
  .hero-svg-container {
    @apply w-full flex justify-center items-center mb-4;
  }
  
  .hero-illustration-container {
    @apply w-full flex justify-center items-center;
    position: relative;
  }
  
  .svg-wrapper {
    position: relative;
    overflow: visible;
    will-change: transform;
  }
  
  .svg-illustration {
    position: relative;
    will-change: transform;
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
  }

  .hero-title {
    @apply text-5xl xl:text-6xl font-heading;
  }

  .caption-text {
    @apply text-xl xl:text-2xl w-fit whitespace-nowrap;
    color: var(--fb-secondary);
  }
  
  /* Projects section */
  .content-section {
    @apply w-full flex items-center justify-center py-10;
    background-color: var(--white);
    color: var(--fw-primary);
  }

  .content-section.projects-section {
    background-color: var(--white);
    color: var(--fw-primary);
  }

  .content-section.skills-section {
    background-color: var(--black);
    color: var(--fb-primary);
    @apply min-h-[600px] items-start;
  }

  .title-container {
    @apply w-full flex flex-col items-center justify-center gap-4;
  }
  
  .section-title {
    @apply w-fit text-xl xl:text-2xl font-heading justify-center flex items-center gap-2 px-[50px] py-2.5 bg-violet/10 border-b-2 border-violet font-medium;
  }

  .section-caption.light {
    @apply text-lg xl:text-xl w-fit whitespace-nowrap;
    color: var(--fw-secondary);
  }

  .section-caption.dark {
    @apply text-lg xl:text-xl w-fit whitespace-nowrap;
    color: var(--fb-secondary);
  }

  .title-icon {
    @apply text-xl xl:text-2xl text-violet;
  }
  
  .projects-grid {
    @apply grid grid-cols-1 md:grid-cols-2 gap-8 w-full;
  }
  
  .project-card {
    @apply border border-fw-secondary/20 rounded-lg overflow-hidden;
  }
  
  /* Skills progress bar */
  .skills-progress-container {
    @apply w-full flex flex-col items-center gap-8;
  }

  .skills-progress-wrapper {
    @apply w-full flex justify-center;
    transform: translateZ(0);
    will-change: transform;
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
    position: relative;
    overflow: visible;
  }

  .skills-progress span {
    @apply text-lg xl:text-xl;
    color: var(--fb-primary);
    z-index: 2;
  }
  
  .skills-progress {
    @apply flex w-full max-w-[1200px] relative;
    height: 60px;
    transform: translateZ(0);
    will-change: transform;
    -webkit-font-smoothing: antialiased;
  }
  
  .progress-arrow {
    @apply flex items-center justify-center gap-2 relative h-full flex-1;
    color: var(--fb-primary);
    transition: all 0.3s ease;
    transform: translateZ(0);
    will-change: transform;
    overflow: visible;
    position: relative;
  }
  
  .progress-arrow::after {
    content: '';
    position: absolute;
    right: -19px; /* Adjusted to overlap slightly */
    top: 0;
    width: 0;
    height: 0;
    border-top: 30px solid transparent;
    border-bottom: 30px solid transparent;
    z-index: 3; /* Higher z-index to ensure arrow is visible */
    transform: translateZ(0);
    backface-visibility: hidden;
    pointer-events: none; /* Allow clicks to pass through */
  }
  
  .progress-arrow::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
    transform: translateZ(0);
    backface-visibility: hidden;
  }
  
  /* Specific z-index values for each arrow to ensure proper layering */
  .progress-arrow.ideation {
    z-index: 3;
  }
  
  .progress-arrow.design {
    z-index: 2;
  }
  
  .progress-arrow.development {
    z-index: 1;
  }
  
  .progress-arrow.ideation::before {
    background-color: #2d1e5a;
  }
  
  .progress-arrow.ideation::after {
    border-left: 20px solid #2d1e5a;
  }
  
  .progress-arrow.design::before {
    background-color: #3a2975;
  }
  
  .progress-arrow.design::after {
    border-left: 20px solid #3a2975;
  }
  
  .progress-arrow.development::before {
    background-color: #473490;
  }
  
  .progress-arrow.development::after {
    border-left: 20px solid #473490;
  }
  
  .progress-icon {
    @apply text-xl;
    z-index: 4; /* Higher than the arrow's z-index */
    position: relative;
  }
  
  /* Ensure text content is above background */
  .progress-arrow span {
    position: relative;
    z-index: 4; /* Higher than the arrow's z-index */
  }
  
  .skills-description {
    @apply text-base max-w-[1200px];
    color: var(--fb-secondary);
  }
  
  /* Skills categories and tools */
  .skills-description-container {
    @apply w-full flex flex-row gap-6 items-start justify-center;
  }
  
  .skills-categories {
    @apply flex flex-wrap gap-2 justify-start items-center w-full;
  }
  
  .skills-category {
    @apply px-4 py-2 bg-violet/20 rounded-md text-sm;
    color: var(--fb-primary);
  }
  
  .skills-tools {
    @apply flex flex-wrap gap-6 justify-end w-full;
  }
  
  .skills-tool {
    @apply flex flex-col items-center gap-2 transition-all duration-300 hover:scale-110 relative;
  }
  
  .skills-tool span {
    @apply text-sm absolute top-0 opacity-0 transition-all duration-300 px-2 py-1 rounded whitespace-nowrap;
    color: var(--fb-primary);
    background-color: rgba(45, 30, 90, 0.9);
    transform: translateY(-100%) translateY(-8px);
    pointer-events: none;
    z-index: 10;
  }
  
  .skills-tool:hover span {
    @apply opacity-100;
    transform: translateY(-100%) translateY(-12px);
  }
  
  .skills-tool-icon {
    @apply text-2xl;
    color: var(--fb-primary);
  }

  .skills-tool-icon.logo-bg {
    background-color: #ffffff;
    padding: 10px;
    border-radius: 5px;
    width: 48px;
    height: 48px;
  }

  .skills-tool-icon.logo-wide {
    width: 128px;
    height: 48px;
    background-color: #ffffff;
    padding: 5px;
    border-radius: 5px;
  }

  .skills-tool-icon.logo-wide img {
    width: 96px;
  }
  
  /* Style for SVG icons to match React Icons */
  .svg-icon {
    @apply flex items-center justify-center;
    position: relative;
    will-change: transform;
  }
  
  .svg-icon img {
    @apply w-12 h-12;
    position: relative;
  }
  
  .svg-illustration-icon {
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
    transform: translateZ(0);
    backface-visibility: hidden;
  }

  /* Experience section */
  .experience-container {
    @apply w-full flex flex-row gap-4 items-start justify-center;
  }
  
  .experience-grid {
    @apply grid grid-cols-1 md:grid-cols-2 gap-2.5 w-full;
  }

  .experience-information {
    @apply text-base w-full flex flex-col items-start gap-4 w-full;
  }

  .experience-card {
    @apply flex flex-col items-start gap-2 border-l-2 border-violet px-4 py-3 bg-violet/10;
  }

  .exp-card-title {
    @apply text-lg xl:text-xl font-heading font-medium;
  }

  .exp-card-info {
    @apply flex flex-col items-start gap-2 text-sm;
    color: var(--fw-secondary);
  }

  .exp-card-info-item {
    @apply flex flex-row items-center gap-2;
  }

  .exp-title-container {
    @apply flex flex-row items-center justify-between gap-2 w-full;
  }

  .experience-title {
    @apply text-lg xl:text-xl font-heading font-medium;
    color: var(--violet);
  }

  .experience-title-company {
    @apply text-base xl:text-lg font-sans font-medium;
    color: var(--fw-primary);
  }

  .exp-title-date {
    @apply text-sm font-sans font-medium;
    color: var(--fw-secondary);
  }

  /* Education section */
  .education-section {
    @apply w-full flex items-center justify-center py-10 min-h-[600px] items-start;
    background-color: var(--black);
    color: var(--fb-primary);
  }
  
  .education-container {
    @apply w-full flex flex-row gap-4 items-start justify-center;
  }
  
  .education-grid {
    @apply grid grid-cols-1 gap-2.5 w-full;
  }
  
  .education-information {
    @apply text-base w-full flex flex-col items-start gap-4 w-full;
  }
  
  .education-card {
    @apply flex flex-col items-start gap-2 border-l-2 border-violet px-4 py-3 bg-violet/10;
  }
  
  .edu-card-title {
    @apply text-lg xl:text-xl font-heading font-medium;
  }
  
  .edu-card-info {
    @apply flex flex-col items-start gap-2 text-sm;
    color: var(--fb-secondary);
  }
  
  .edu-card-info-item {
    @apply flex flex-row items-center gap-2;
  }
  
  .edu-title-container {
    @apply flex flex-row items-center justify-between gap-2 w-full;
  }
  
  .education-title {
    @apply text-lg xl:text-xl font-heading font-medium;
    color: var(--violet);
  }
  
  .education-title-institution {
    @apply text-base xl:text-lg font-sans font-medium;
    color: var(--fb-primary);
  }
  
  .edu-title-date {
    @apply text-sm font-sans font-medium;
    color: var(--fb-secondary);
  }
  
  /* About section */
  .about-section {
    @apply w-full flex items-center justify-center py-10 min-h-[350px] items-start;
    background-color: var(--white);
    color: var(--fw-primary);
  }
  
  .about-container {
    @apply w-full flex flex-row gap-4 items-start justify-center;
  }
  
  .about-image-container {
    @apply w-full min-h-[400px] bg-violet/10 rounded-lg;
    /* This will be replaced with the actual parallax image */
  }
  
  .about-information {
    @apply text-base w-full flex flex-col items-start gap-4 w-full;
  }
  
  .about-title-container {
    @apply flex flex-row items-center justify-between gap-2 w-full;
  }
  
  .about-title {
    @apply text-lg xl:text-xl font-heading font-medium;
    color: var(--violet);
  }
  
  .about-description {
    @apply text-base;
    color: var(--fw-secondary);
  }
  
  .about-details {
    @apply flex flex-col gap-2 w-full mt-2;
  }
  
  .about-detail-item {
    @apply flex flex-row items-center gap-2;
  }
  
  .about-detail-label {
    @apply font-medium;
    color: var(--fw-primary);
  }
  
  .about-detail-value {
    color: var(--fw-secondary);
  }
  
  /* Contact section */
  .contact-section {
    @apply w-full flex items-center justify-center py-10 min-h-[500px] items-start;
    background-color: var(--black);
    color: var(--fb-primary);
  }
  
  .contact-container {
    @apply w-full flex flex-col gap-4 items-center;
    max-width: 900px;
    margin: 0 auto;
  }
  
  .contact-form-container {
    @apply w-full;
  }
  
  .contact-form {
    @apply w-full;
  }
  
  .form-grid {
    @apply grid grid-cols-1 md:grid-cols-2 gap-4;
  }
  
  .form-group {
    @apply flex flex-col gap-1;
  }
  
  .form-group.full-width {
    @apply md:col-span-2;
  }
  
  .form-label {
    @apply text-sm font-medium;
    color: var(--fb-primary);
  }
  
  .form-input, .form-textarea {
    @apply px-4 py-2 rounded-md border border-violet/30 bg-black/30 text-fb-primary focus:outline-none focus:border-violet;
    transition: border-color 0.3s ease;
  }
  
  .form-textarea {
    @apply resize-none;
  }
  
  .submit-button {
    @apply px-6 py-3 bg-violet text-white rounded-md font-medium hover:bg-violet/80 transition-colors w-full md:w-auto;
  }
  
  .contact-info {
    @apply w-full md:w-1/3 flex flex-col gap-4 p-4 bg-violet/10 rounded-md;
  }
  
  .contact-info-title {
    @apply text-lg font-heading font-medium;
    color: var(--violet);
  }
  
  .contact-links {
    @apply flex flex-row gap-6 items-center justify-center w-full;
  }
  
  .contact-link {
    @apply p-3 bg-violet/10 hover:bg-violet/20 rounded-md flex items-center gap-2 transition-colors;
    color: var(--fb-primary);
  }
  
  .contact-icon {
    @apply text-xl transition-colors;
    color: var(--fb-primary);
  }

  .contact-link:hover .contact-icon {
    color: var(--violet);
  }
}

/* SVG rendering fixes for different screen resolutions */
svg {
  /* Force pixel snapping */
  transform-box: fill-box;
  transform-origin: 50% 50%;
}

/* Fix for white line cracks in SVG illustrations */
svg path {
  shape-rendering: geometricPrecision;
  vector-effect: non-scaling-stroke;
}

/* Force hardware acceleration for smoother rendering */
.svg-illustration *, .svg-icon * {
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
  -webkit-transform: translateZ(0) scale(1.0, 1.0);
  transform: translateZ(0) scale(1.0, 1.0);
}

/* Skills section specific fixes */
.skills-tool-icon {
  position: relative;
  will-change: transform;
  transform: translateZ(0);
}

.skills-tool {
  transform-style: preserve-3d;
  backface-visibility: hidden;
}

/* Fix for white lines in progress arrows */
.skills-progress {
  box-shadow: 0 0 0 1px rgba(0,0,0,0.05);
  margin: 0 1px; /* Add 1px margin to prevent edge rendering issues */
}

/* Remove margin adjustments as they interfere with z-index layering */
.progress-arrow {
  position: relative; /* Ensure position context for z-index */
}

/* Fix for Safari and Chrome rendering differences */
@media screen and (-webkit-min-device-pixel-ratio: 0) {
  .progress-arrow::after {
    right: -20px; /* Slight adjustment for WebKit browsers */
  }
}

/* Fix for Safari browser */
@media not all and (min-resolution:.001dpcm) { 
  @supports (-webkit-appearance:none) {
    .svg-illustration, .svg-illustration-icon {
      transform: translateX(0.5px);
    }
    
    .skills-tool-icon.logo-bg, .skills-tool-icon.logo-wide {
      transform: translateZ(0);
      image-rendering: -webkit-optimize-contrast;
    }
  }
}